var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,r=(e,a)=>{for(var s in a||(a={}))o.call(a,s)&&d(e,s,a[s]);if(t)for(var s of t(a))c.call(a,s)&&d(e,s,a[s]);return e},l=(e,t)=>a(e,s(t));import{p as n,a as i,o as p,c as m,r as u,b as k,w as f,F as b,k as v,d as w,e as y,t as g,f as h,g as x,u as C,h as j,_ as S,i as P,j as K,l as _,m as A,n as W,q as I,s as L,v as V}from"./vendor.b3fc3ca2.js";n("data-v-9fbf088c"),i();const O={},Q={class:"NinjaLogo",src:"/assets/logo.03d6d6da.png",alt:"logo"};O.render=function(e,a){return p(),m("img",Q)};const U={components:{Logo:O}},R=f("data-v-7fe153b3");n("data-v-7fe153b3");const z={class:"header"},q={class:"header-wrapper"},D={class:"flex items-center"},N=k("p",{class:"pl-3 select-none"},"Ninja",-1);i();const T=R(((e,a,s,t,o,c)=>{const d=u("Logo");return p(),m("div",z,[k("div",q,[k("div",D,[k(d,{class:"h-10 w-10"}),N])])])}));U.render=T,U.__scopeId="data-v-7fe153b3";const E={class:"main"},$={setup:e=>(e,a)=>{const s=u("router-view");return p(),m(b,null,[k(U),k("div",E,[k(s)])],64)}};const Z=v.create({prefixUrl:"/api",retry:{limit:0}});function B(e){return Z.post("WSCKLogin",{json:e}).json()}const J={setup(){const e=C();j();let a=w({remark:"",jdwsck:void 0,nickName:void 0,timestamp:void 0});const s=async()=>{try{const e=localStorage.getItem("eid"),s=localStorage.getItem("wseid");if(!e&&!s)return void t();if(e){const s=await function(e){const a=new URLSearchParams;return a.set("eid",e),Z.get("userinfo",{searchParams:a}).json()}(e);if(!s)return S.error("获取用户CK信息失败，请重重新登录"),void t();a.nickName=s.data.nickName,a.timestamp=new Date(s.data.timestamp).toLocaleString()}if(s){const e=await getWSCKUserinfoAPI(s);if(!e)return S.error("获取用户WSCK信息失败，请重重新登录"),void t();a.nickName=e.data.nickName,a.timestamp=new Date(e.data.timestamp).toLocaleString()}}catch(e){console.error(e)}};y(s);const t=()=>{localStorage.removeItem("eid"),localStorage.removeItem("wseid"),e.push("/login")};return l(r({},g(a)),{activity:[{name:"玩一玩（可找到大多数活动）",address:"京东 APP 首页-频道-边玩边赚",href:"https://funearth.m.jd.com/babelDiy/Zeus/3BB1rymVZUo4XmicATEUSDUgHZND/index.html"},{name:"宠汪汪",address:"京东APP-首页/玩一玩/我的-宠汪汪"},{name:"东东萌宠",address:"京东APP-首页/玩一玩/我的-东东萌宠"},{name:"东东农场",address:"京东APP-首页/玩一玩/我的-东东农场"},{name:"东东工厂",address:"京东APP-首页/玩一玩/我的-东东工厂"},{name:"东东超市",address:"京东APP-首页/玩一玩/我的-东东超市"},{name:"领现金",address:"京东APP-首页/玩一玩/我的-领现金"},{name:"东东健康社区",address:"京东APP-首页/玩一玩/我的-东东健康社区"},{name:"京喜农场",address:"京喜APP-我的-京喜农场"},{name:"京喜牧场",address:"京喜APP-我的-京喜牧场"},{name:"京喜工厂",address:"京喜APP-我的-京喜工厂"},{name:"京喜财富岛",address:"京喜APP-我的-京喜财富岛"},{name:"京东极速版红包",address:"京东极速版APP-我的-红包"}],getInfo:s,logout:t,delAccount:async()=>{try{const e=localStorage.getItem("eid"),a=await function(e){return Z.post("delaccount",{json:e}).json()}({eid:e});200!==a.code?S.error(a.message):(S.success(a.message),setTimeout((()=>{t()}),1e3))}catch(e){console.error(e)}},changeremark:async()=>{try{const s=localStorage.getItem("eid"),t=localStorage.getItem("wseid"),o=a.remark;if(s){const e=await function(e){return Z.post("update/remark",{json:e}).json()}({eid:s,remark:o});200!==e.code?S.success(e.message):S.error(e.message)}if(t){const a=await(e={wseid:t,remark:o},Z.post("updateWSCK/remark",{json:e}).json());200!==a.code?S.success(a.message):S.error(a.message)}}catch(s){console.error(s)}var e},WSCKLogin:async()=>{try{const e=a.jdwsck.match(/wskey=(.*?);/)&&a.jdwsck.match(/wskey=(.*?);/)[1],s=a.jdwsck.match(/pin=(.*?);/)&&a.jdwsck.match(/pin=(.*?);/)[1];if(e&&s){const a=await B({wskey:e,pin:s});a.data.wseid?(localStorage.setItem("wseid",a.data.wseid),S.success(a.message)):S.error(a.message||"wskey 解析失败，请检查后重试！")}else S.error("wskey 解析失败，请检查后重试！")}catch(e){console.error(e)}},delWSCKAccount:async()=>{try{const e=localStorage.getItem("wseid"),a=await function(e){return Z.post("WSCKDelaccount",{json:e}).json()}({wseid:e});200!==a.code?S.error(a.message):(S.success(a.message),setTimeout((()=>{t()}),1e3))}catch(e){console.error(e)}},openUrlWithJD:e=>{const a=encodeURIComponent(`{"category":"jump","des":"m","action":"to","url":"${e}"}`);window.location.href=`openapp.jdmobile://virtual?params=${a}`,console.log(window.location.href)}})}},F=f("data-v-e9f26914");n("data-v-e9f26914");const H={class:"content"},X={class:"card"},G=k("div",{class:"card-header"},[k("p",{class:"card-title"},"个人中心")],-1),M={class:"card-body"},Y={class:"card-footer"},ee=P("退出登录"),ae=P("删除CK"),se={class:"card hidden"},te=K('<div class="card-header" data-v-e9f26914><p class="card-title" data-v-e9f26914>WSCK 录入</p><div class="card-body text-base leading-6" data-v-e9f26914><b data-v-e9f26914>wskey有效期长达一年，请联系管理员确认使用，慎重！</b><p data-v-e9f26914>删WSCK在下方。</p><b data-v-e9f26914>也可以保持pin不变，随意更改wskey，等同于删除WSCK。改密码解决一切CK泄露问题。</b><p data-v-e9f26914>用户须手动提取pin和wskey，格式如：&quot;pin=xxxxxx;wskey=xxxxxxxxxx;&quot;。</p><p class="card-subtitle" data-v-e9f26914>——IOS用户手机抓包APP <a style="" href="https://apps.apple.com/cn/app/stream/id1312141691" target="_blank" id="downiOSApp" data-v-e9f26914>点击跳转安装</a></p><p class="card-subtitle" data-v-e9f26914>——在api.m.jd.com域名下找POST请求大概率能找到wskey。</p><p class="card-subtitle" data-v-e9f26914>wskey在录入后立马上线，系统会在指定时间检查wskey，有效则自动转换出cookie登录</p><p class="card-subtitle" data-v-e9f26914>cookie失效后，也会在系统设定的指定时间内自动转换出新的cookie，实现一次录入长期有效</p><b data-v-e9f26914>wskey会随着京东app的退出登录和更改密码而失效，清楚app数据或者卸载软件不会影响。</b></div></div>',1),oe={class:"card-body text-center"},ce={class:"card-footer"},de=P("重新录入"),re=P("删除WSCK"),le={class:"card"},ne=k("div",{class:"card-header"},[k("p",{class:"card-title"},"修改备注")],-1),ie={class:"card-body text-center"},pe={class:"card-footer"},me=P("修改"),ue={class:"card"},ke=k("div",{class:"card-header"},[k("p",{class:"card-title"},"常见活动位置"),k("span",{class:"card-subtitle"},"下面是一些常见活动的位置")],-1),fe={class:"card-body"},be={class:"pr-2"};i();const ve=F(((e,a,s,t,o,c)=>{const d=u("el-button"),r=u("el-input");return p(),m("div",H,[k("div",X,[G,k("div",M,[k("p",null,"昵称："+h(e.nickName),1),k("p",null,"更新时间："+h(e.timestamp),1)]),k("div",Y,[k(d,{size:"small",auto:"",onClick:t.logout},{default:F((()=>[ee])),_:1},8,["onClick"]),k(d,{type:"danger",size:"small",auto:"",onClick:t.delAccount},{default:F((()=>[ae])),_:1},8,["onClick"])])]),k("div",se,[te,k("div",oe,[k(r,{modelValue:e.jdwsck,"onUpdate:modelValue":a[1]||(a[1]=a=>e.jdwsck=a),placeholder:"pin=xxxxxx;wskey=xxxxxxxxxx;",size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"])]),k("div",ce,[k(d,{type:"success",size:"small",auto:"",onClick:t.WSCKLogin},{default:F((()=>[de])),_:1},8,["onClick"]),k(d,{type:"danger",size:"small",auto:"",onClick:t.delWSCKAccount},{default:F((()=>[re])),_:1},8,["onClick"])])]),k("div",le,[ne,k("div",ie,[k(r,{modelValue:e.remark,"onUpdate:modelValue":a[2]||(a[2]=a=>e.remark=a),size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"])]),k("div",pe,[k(d,{type:"success",size:"small",auto:"",onClick:t.changeremark},{default:F((()=>[me])),_:1},8,["onClick"])])]),k("div",ue,[ke,k("div",fe,[k("ul",null,[(p(!0),m(b,null,x(t.activity,((e,a)=>(p(),m("li",{key:a,class:"leading-normal"},[k("span",null,h(e.name)+"：",1),k("span",be,h(e.address),1),e.href?(p(),m("a",{key:0,class:"text-blue-400",href:"#",onClick:a=>t.openUrlWithJD(e.href)},"直达链接",8,["onClick"])):_("",!0)])))),128))])])])])}));J.render=ve,J.__scopeId="data-v-e9f26914";const we={setup(){const e=C();j();let a=w({marginCount:0,allowAdd:!0,cookie:"",QRCode:void 0,qrCodeVisibility:!1,token:void 0,okl_token:void 0,cookies:void 0,timer:void 0,waitLogin:!1,marginWSCKCount:0,allowWSCKAdd:!0,jdwsck:void 0,showQR:!1,showWSCK:!1,showCK:!0});const s=async()=>{try{const e=(await Z.get("info").json()).data;a.marginCount=e.marginCount,a.allowAdd=e.allowAdd,a.marginWSCKCount=e.marginWSCKCount,a.allowWSCKAdd=e.allowWSCKAdd,a.showQR=e.showQR,a.showWSCK=e.showWSCK,a.showCK=e.showCK}catch(e){console.error(e)}},t=async()=>{if(this.showQR)try{const e=await Z.get("qrcode").json();a.token=e.data.token,a.okl_token=e.data.okl_token,a.cookies=e.data.cookies,a.QRCode=e.data.QRCode,a.QRCode&&(a.waitLogin=!0,clearInterval(a.timer),a.timer=setInterval(o,3e3))}catch(e){console.error(e),S.error("生成二维码失败！请重试或放弃")}else S.warning("扫码已禁用请手动抓包")},o=async()=>{try{const s=await function(e){return Z.post("check",{json:e}).json()}({token:a.token,okl_token:a.okl_token,cookies:a.cookies});switch(null==s?void 0:s.data.errcode){case 0:localStorage.setItem("eid",s.data.eid),S.success(s.message),clearInterval(a.timer),e.push("/");break;case 176:break;default:S.error(s.message),a.waitLogin=!1,clearInterval(a.timer)}}catch(s){clearInterval(a.timer),a.waitLogin=!1}};return y((()=>{s(),t()})),l(r({},g(a)),{getInfo:s,getQrcode:t,showQrcode:async()=>{a.qrCodeVisibility=!0},ckeckLogin:o,jumpLogin:async()=>{const e=`openapp.jdmobile://virtual/ad?params={"category":"jump","des":"ThirdPartyLogin","action":"to","onekeylogin":"return","url":"https://plogin.m.jd.com/cgi-bin/m/tmauth?appid=300&client_type=m&token=${a.token}","authlogin_returnurl":"weixin://","browserlogin_fromurl":"${window.location.host}"}`;window.location.href=e},CKLogin:async()=>{try{const s=a.cookie.match(/pt_key=(.*?);/)&&a.cookie.match(/pt_key=(.*?);/)[1],t=a.cookie.match(/pt_pin=(.*?);/)&&a.cookie.match(/pt_pin=(.*?);/)[1];if(s&&t){const a=await function(e){return Z.post("cklogin",{json:e}).json()}({pt_key:s,pt_pin:t});a.data.eid?(localStorage.setItem("eid",a.data.eid),S.success(a.message),e.push("/")):S.error(a.message||"cookie 解析失败，请检查后重试！")}else S.error("cookie 解析失败，请检查后重试！")}catch(s){console.error(s)}},WSCKLogin:async()=>{try{const s=a.jdwsck.match(/wskey=(.*?);/)&&a.jdwsck.match(/wskey=(.*?);/)[1],t=a.jdwsck.match(/pin=(.*?);/)&&a.jdwsck.match(/pin=(.*?);/)[1];if(s&&t){const a=await B({wskey:s,pin:t});a.data.wseid?(localStorage.setItem("wseid",a.data.wseid),S.success(a.message),e.push("/")):S.error(a.message||"wskey 解析失败，请检查后重试！")}else S.error("wskey 解析失败，请检查后重试！")}catch(s){console.error(s)}}})}},ye=f("data-v-a32fbbdc");n("data-v-a32fbbdc");const ge={class:"content"},he=K('<div class="card" data-v-a32fbbdc><div class="card-header" data-v-a32fbbdc><div class="flex items-center justify-between" data-v-a32fbbdc><p class="card-title" data-v-a32fbbdc>温馨提醒您</p></div></div><div class="card-body text-base leading-6" data-v-a32fbbdc><p data-v-a32fbbdc>为了您的财产安全请关闭免密支付以及打开支付验密（京东-设置-支付设置-支付验密设置）。</p><p data-v-a32fbbdc>建议京东账户绑定微信以保证提现能到账。</p><p data-v-a32fbbdc>推荐使用<a href="http://1.116.37.40:5702" style="color:red;font-weight:bold;" data-v-a32fbbdc>👍👍京东快速登录👍👍</a></p></div><div class="card-footet" data-v-a32fbbdc></div></div>',1),xe={key:0,class:"card"},Ce={class:"card-header"},je={class:"flex items-center justify-between"},Se=k("p",{class:"card-title"},"扫码登录",-1),Pe={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},Ke=k("span",{class:"card-subtitle"}," 请点击下方按钮登录，点击按钮后回到本网站查看是否登录成功，京东的升级提示不用管。 ",-1),_e={class:"card-body text-center"},Ae={key:0,class:"flex flex-col w-48 m-auto mt-4"},We=P("扫描二维码登录"),Ie=P("跳转到京东 App 登录"),Le=k("div",{class:"card-footer"},null,-1),Ve={key:1,class:"card"},Oe={class:"card-header"},Qe={class:"flex items-center justify-between"},Ue=k("p",{class:"card-title"},"WSCK 录入",-1),Re={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},ze=K('<div class="card-body text-base leading-6" data-v-a32fbbdc><b data-v-a32fbbdc>wskey有效期长达一年，请联系管理员确认使用（删不掉，慎用）</b><p data-v-a32fbbdc>用户须手动提取pin和wskey，格式如：&quot;pt_pin=xxxxxx;wskey=xxxxxxxxxx;&quot;。</p><p class="card-subtitle" data-v-a32fbbdc>——IOS用户手机抓包APP <a style="" href="https://apps.apple.com/cn/app/stream/id1312141691" target="_blank" id="downiOSApp" data-v-a32fbbdc>点击跳转安装</a></p><p class="card-subtitle" data-v-a32fbbdc>——在api.m.jd.com域名下找POST请求大概率能找到wskey。</p><p class="card-subtitle" data-v-a32fbbdc>wskey在录入后立马上线，系统会在指定时间检查wskey，有效则自动转换出cookie登录</p><p class="card-subtitle" data-v-a32fbbdc>cookie失效后，也会在系统设定的指定时间内自动转换出新的cookie，实现一次录入长期有效</p><b data-v-a32fbbdc>wskey会随着京东app的退出登录和更改密码而失效，清楚app数据或者卸载软件不会影响。</b></div><span class="card-subtitle" data-v-a32fbbdc> 请在下方输入您的 WSCK </span>',2),qe={class:"card-body text-center"},De=P("录入"),Ne=k("div",{class:"card-footet"},null,-1),Te={key:2,class:"card"},Ee={class:"card-header"},$e={class:"flex items-center justify-between"},Ze=k("p",{class:"card-title"},"京东CK 登录",-1),Be={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},Je=k("div",{class:"card-body text-base leading-6"},[k("p",null,"cookie直接填入输入框即可")],-1),Fe=k("span",{class:"card-subtitle"}," 请在下方输入您的 cookie 登录。 ",-1),He={class:"card-body text-center"},Xe=P("登录"),Ge=k("div",{class:"card-footet"},null,-1);i();const Me=ye(((e,a,s,t,o,c)=>{const d=u("el-button"),r=u("el-input");return p(),m("div",ge,[he,e.showQR?(p(),m("div",xe,[k("div",Ce,[k("div",je,[Se,k("span",Pe,"余量："+h(e.marginCount),1)]),Ke]),k("div",_e,[e.qrCodeVisibility?(p(),m("img",{key:1,src:e.QRCode,width:256,class:"m-auto"},null,8,["src"])):(p(),m("div",Ae,[k(d,{type:"primary",round:"",onClick:t.showQrcode},{default:ye((()=>[We])),_:1},8,["onClick"]),k(d,{class:"mt-4 ml-0",type:"primary",round:"",onClick:t.jumpLogin},{default:ye((()=>[Ie])),_:1},8,["onClick"])]))]),Le])):_("",!0),e.showWSCK?(p(),m("div",Ve,[k("div",Oe,[k("div",Qe,[Ue,k("span",Re,"余量："+h(e.marginWSCKCount),1)]),ze]),k("div",qe,[k(r,{modelValue:e.jdwsck,"onUpdate:modelValue":a[1]||(a[1]=a=>e.jdwsck=a),placeholder:"pin=xxxxxx;wskey=xxxxxxxxxx;",size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"]),k(d,{type:"primary",size:"small",round:"",onClick:t.WSCKLogin},{default:ye((()=>[De])),_:1},8,["onClick"])]),Ne])):_("",!0),e.showCK?(p(),m("div",Te,[k("div",Ee,[k("div",$e,[Ze,k("span",Be,"余量："+h(e.marginCount),1)]),Je,Fe]),k("div",He,[k(r,{modelValue:e.cookie,"onUpdate:modelValue":a[2]||(a[2]=a=>e.cookie=a),size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"]),k(d,{type:"primary",size:"small",round:"",onClick:t.CKLogin},{default:ye((()=>[Xe])),_:1},8,["onClick"])]),Ge])):_("",!0)])}));we.render=Me,we.__scopeId="data-v-a32fbbdc";const Ye=[{path:"/",component:J},{path:"/login",component:we}],ea=A({history:W(),routes:Ye}),aa=[L,V,S],sa=[S],ta=I($);aa.forEach((e=>{ta.component(e.name,e)})),sa.forEach((e=>{ta.use(e)})),ta.use(ea),ta.mount("#app");
